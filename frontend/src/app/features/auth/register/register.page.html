<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Registro</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card>
    <ion-card-header>
      <h4>Registro para nuevo usuario</h4>
    </ion-card-header>
    <ion-card-content>
      <form [formGroup]="registroForm">
        <ion-grid>
          <ion-row>
            <ion-col size="12">
              <ion-item>
                <ion-icon name="people-circle-outline" slot="end"></ion-icon>
                <ion-label position="floating">Nombre <span style="color: red;">*</span></ion-label>
                <ion-input type="text" id="nombre" formControlName="nombre"></ion-input>
              </ion-item>
              <ion-note *ngIf="registroForm.get('nombre')?.hasError('required') && registroForm.get('nombre')?.touched" color="danger">
                Nombre es requerido
              </ion-note>
              <ion-note *ngIf="registroForm.get('nombre')?.hasError('minlength') && registroForm.get('nombre')?.touched" color="danger">
                Nombre debe tener al menos 3 caracteres
              </ion-note>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="12">
              <ion-item>
                <ion-icon name="mail-outline" slot="end"></ion-icon>
                <ion-label position="floating">Correo electrónico <span style="color: red;">*</span></ion-label>
                <ion-input type="email" id="correo" formControlName="correo"></ion-input>
              </ion-item>
              <ion-note *ngIf="registroForm.get('correo')?.hasError('required') && registroForm.get('correo')?.touched" color="danger">
                Correo electrónico es requerido
              </ion-note>
              <ion-note *ngIf="registroForm.get('correo')?.hasError('email') && registroForm.get('correo')?.touched" color="danger">
                Ingrese un correo electrónico válido
              </ion-note>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="12">
              <ion-item>
                <ion-icon name="lock-closed-outline" slot="end"></ion-icon>
                <ion-label position="floating">Contraseña <span style="color: red;">*</span></ion-label>
                <ion-input type="password" id="password" formControlName="password"></ion-input>
              </ion-item>
              <ion-note *ngIf="registroForm.get('password')?.hasError('required') && registroForm.get('password')?.touched" color="danger">
                Contraseña es requerida
              </ion-note>
              <ion-note *ngIf="registroForm.get('password')?.hasError('minlength') && registroForm.get('password')?.touched" color="danger">
                Contraseña debe tener al menos 6 caracteres
              </ion-note>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="12">
              <ion-item>
                <ion-icon name="lock-closed-outline" slot="end"></ion-icon>
                <ion-label position="floating">Confirmar Contraseña <span style="color: red;">*</span></ion-label>
                <ion-input type="password" id="confirmPassword" formControlName="confirmPassword"></ion-input>
              </ion-item>
              <ion-note *ngIf="registroForm.get('confirmPassword')?.hasError('required') && registroForm.get('confirmPassword')?.touched" color="danger">
                Confirmar contraseña es requerida
              </ion-note>
              <ion-note *ngIf="registroForm.get('confirmPassword')?.hasError('minlength') && registroForm.get('confirmPassword')?.touched" color="danger">
                Confirmar contraseña debe tener al menos 6 caracteres
              </ion-note>
            </ion-col>
          </ion-row>
          <ion-row *ngIf="passwordsDoNotMatch()">
            <ion-col size="12">
              <p style="color: red;">Las contraseñas no coinciden.</p>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="12">
              <ion-item>
                <ion-icon name="call-outline" slot="end"></ion-icon>
                <ion-label position="floating">Teléfono <span style="color: red;">*</span></ion-label>
                <ion-input type="tel" id="telefono" formControlName="telefono"></ion-input>
              </ion-item>
              <ion-note *ngIf="registroForm.get('telefono')?.hasError('required') && registroForm.get('telefono')?.touched" color="danger">
                Teléfono es requerido
              </ion-note>
              <ion-note *ngIf="registroForm.get('telefono')?.hasError('pattern') && registroForm.get('telefono')?.touched" color="danger">
                Ingrese un número de teléfono válido de 10 dígitos
              </ion-note>
            </ion-col>
          </ion-row>
        </ion-grid>
        <ion-button expand="block" [disabled]="!registroForm.valid" (click)="registrar()">Registrarse</ion-button>

        <div class="register-group">
          <p class="register-text" [routerLink]="['/login']">Iniciar sesión</p>
        </div>

      </form>
    </ion-card-content>
  </ion-card>
</ion-content>
